(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{269:function(e,t,a){e.exports=a(534)},274:function(e,t,a){},534:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(264),c=(a(274),a(19)),o=a(20),s=a(22),i=a(21),m=a(23),u=a(539),d=a(540),h=a(537),p=a(536),b=a(5),E=Object(b.b)(null,{signOut:function(){return function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})}}})(function(e){var t=e.profile;return r.a.createElement("div",{className:"navbar-nav w-100 d-flex justify-content-end mr-5"},r.a.createElement(p.a,{className:"nav-item nav-link text-white",to:"/create"},"New Project"),r.a.createElement(p.a,{onClick:function(){return e.signOut()},className:"nav-item nav-link text-white",to:"/"},"Log Out"),r.a.createElement(p.a,{className:"nav-item nav-link rounded-circle bg-danger text-white",to:"/"},t?t.initials:null))}),f=function(){return r.a.createElement("div",{className:"navbar-nav w-100 d-flex justify-content-end mr-5"},r.a.createElement(p.a,{className:"nav-item nav-link text-white",to:"/signup"},"SignUp"),r.a.createElement(p.a,{className:"nav-item nav-link text-white",to:"/signin"},"Login "))},g=a(9),v=a(18),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.user;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-secondary mb-5"},r.a.createElement(p.a,{className:"navbar-brand",to:"/"},"MarioPlan"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},t.uid?r.a.createElement(E,{profile:a}):r.a.createElement(f,null))))}}]),t}(n.Component),j=Object(g.d)(Object(b.b)(function(e){return{auth:e.firebase.auth,user:e.firebase.profile}}),Object(v.firestoreConnect)([{collection:"users"}]))(N),O=a(57),w=a.n(O),y=Object(g.d)(Object(b.b)(function(e){return{notifications:e.firestore.ordered.notifications}}),Object(v.firestoreConnect)([{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(function(e){var t=e.notifications;return r.a.createElement("div",null,r.a.createElement("div",{className:" mb-4 bg-light rounded",style:{width:"18rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Notifications"),r.a.createElement("div",{className:""},t&&t.map(function(e){return r.a.createElement("li",{className:"list-group-item bg-light",key:e.id},r.a.createElement("span",{className:"text-danger"},e.user," "),r.a.createElement("span",null,e.content),r.a.createElement("br",null),r.a.createElement("sub",{className:"text-muted m-0 p-0"},w()(e.time.toDate()).fromNow()))})))))}),C=function(e){var t=e.project;return r.a.createElement("div",{className:" mb-4 bg-light rounded",style:{width:"18rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement(p.a,{to:"/project/".concat(t.id),className:"card-title"}," ",r.a.createElement("h4",{className:"text-muted   p-0"},t.title)," "),r.a.createElement("p",{className:"card-subtitle text-muted m-0 p-0"},"Posted by ",t.authorFirstName," ",t.authorLastName," "),r.a.createElement("sub",{className:"text-muted m-0 p-0"}," ",w()(t.createdAt.toDate()).calendar())))},S=function(e){var t=e.projects;return r.a.createElement("div",{className:"project-list container"},t&&t.map(function(e){return r.a.createElement(C,{project:e,key:e.id})}))},R=a(538),x=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.projects;return e.auth.uid?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(S,{projects:t})),r.a.createElement("div",{className:"col-12 col-md-5 offset-md-1"},r.a.createElement(y,null)))):r.a.createElement(R.a,{to:"/signin"})}}]),t}(n.Component),_=Object(g.d)(Object(b.b)(function(e){return console.log(e),{projects:e.firestore.ordered.projects,auth:e.firebase.auth}}),Object(v.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]}]))(x),F=Object(g.d)(Object(b.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.projects;return{project:n?n[a]:null,auth:e.firebase.auth}}),Object(v.firestoreConnect)([{collection:"projects"}]))(function(e){var t,a=e.project,n=e.auth;return t=a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card-body"},r.a.createElement(p.a,{to:"/",className:"m-1"},r.a.createElement("h4",{className:"text-muted   p-0"}," ",a.title," ")," "),r.a.createElement("p",{className:"card-text"},a.content),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-subtitle text-muted m-0 p-0"},"Posted by ",a.authorFirstName," ",a.authorLastName),r.a.createElement("sub",{className:"text-muted m-0 p-0"},"Posted ",w()(a.createdAt.toDate()).format("LLLL")))))):r.a.createElement("div",null,"Loading Project. . . "),n.uid?r.a.createElement("div",null,t):r.a.createElement(R.a,{to:"/signin"})}),I=a(40),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={email:null,password:null},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(R.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"bg-light"},t?r.a.createElement("div",{className:"alert alert-warning fade show",role:"alert"},t,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):r.a.createElement("div",null),r.a.createElement("h5",{className:"text-muted lead"}," Sign In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",className:"form-control",placeholder:"Email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control",placeholder:"password",onChange:this.handleChange})),r.a.createElement("button",{disabled:""===this.state.email||null===this.state.email||null===this.state.password||""===this.state.password,type:"submit",className:"btn btn-fill btn-primary shadow"},"Login")))}}]),t}(n.Component),k=Object(b.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},{signIn:function(e){return function(t,a,n){var r=(0,n.getFirebase)();r.auth().signInWithEmailAndPassword(e.email,e.password).then(function(){var e=r.auth().currentUser;console.log(e),t({type:"LOGIN_SUCCESS"})}).catch(function(e){t({type:"LOGIN_ERROR",err:e})})}}})(U),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={email:null,password:null,firstname:"",lastname:""},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(R.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"bg-light"},t?r.a.createElement("div",{className:"alert alert-warning fade show",role:"alert"},t,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))):r.a.createElement("div",null),r.a.createElement("h5",{className:"text-muted lead"}," Sign Up"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",className:"form-control",placeholder:"Email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control",placeholder:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstname"},"First Name"),r.a.createElement("input",{type:"text",name:"firstname",id:"firstname",className:"form-control",placeholder:"First Name",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastname"},"Last Name"),r.a.createElement("input",{type:"text",name:"lastname",id:"lastname",className:"form-control",placeholder:"Last Name",onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-fill btn-success shadow"},"Sign Up")))}}]),t}(n.Component),P=Object(b.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},{signUp:function(e){return function(t,a,n){var r=n.getFirebase,l=n.getFirestore,c=r(),o=l();c.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstname,lastName:e.lastname,email:e.email,initials:e.firstname.slice(0,1).toUpperCase()+e.lastname.slice(0,1).toUpperCase()})}).then(function(e){return t({type:"SIGNUP_SUCCESS"})}).catch(function(e){console.log(e),t({type:"SIGNUP_ERROR",err:e})})}}})(L),A=a(26),T=a(541),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={title:null,content:null},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createProject(a.state,a.props.history)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"bg-light"},r.a.createElement("h5",{className:"text-muted lead"}," Create Form"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"TItle"),r.a.createElement("input",{type:"text",name:"title",id:"title",className:"form-control",placeholder:"Title",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"content"},"Project Content"),r.a.createElement("textarea",{name:"content",className:"form-control",id:"content",onChange:this.handleChange,placeholder:"Content"})),r.a.createElement("button",{type:"submit",className:"btn btn-block btn-success shadow"},"Create"))):r.a.createElement(R.a,{to:"/signin"})}}]),t}(n.Component),G=Object(b.b)(function(e){return{auth:e.firebase.auth}},{createProject:function(e,t){return function(a,n,r){var l=(0,r.getFirestore)(),c=n().firebase.profile,o=n().firebase.auth.uid;l.collection("projects").add(Object(A.a)({},e,{authorFirstName:c.firstName,authorLastName:c.lastName,authorId:o,createdAt:new Date})).then(function(){a({type:"CREATE_PROJECT",payload:e}),t.push("/")}).catch(function(e){return a({type:"CREATE_PROJECT_ERROR",payload:e})})}}})(Object(T.a)(D)),J=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(d.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:_}),r.a.createElement(h.a,{path:"/project/:id",component:F}),r.a.createElement(h.a,{path:"/signin",component:k}),r.a.createElement(h.a,{path:"/signup",component:P}),r.a.createElement(h.a,{path:"/create",component:G}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M={authError:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("login success"),Object(A.a)({},e,{authError:null});case"LOGIN_ERROR":return console.log(t.err),Object(A.a)({},e,{authError:"Login failed"});case"SIGNOUT_SUCCESS":return console.log("sign out"),Object(A.a)({},e);case"SIGNUP_SUCCESS":return console.log("signup success"),Object(A.a)({},e);case"SIGNUP_ERROR":return console.log("signup error"),Object(A.a)({},e,{authError:t.err.message});default:return e}},W={projects:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return console.log("created project",t.payload),Object(A.a)({},e);case"CREATE_PROJECT_ERROR":return console.log("created project error",t.payload),Object(A.a)({},e);default:return e}},z=a(77),V=Object(g.c)({auth:B,project:X,firestore:z.firestoreReducer,firebase:v.firebaseReducer}),Y=a(268),K=a(175),$=a.n(K);a(528),a(532);$.a.initializeApp({apiKey:"AIzaSyD0nLOaYMwv0epD_3sMUm1ED5_NgjWieSY",authDomain:"react-marioplan-188d8.firebaseapp.com",databaseURL:"https://react-marioplan-188d8.firebaseio.com",projectId:"react-marioplan-188d8",storageBucket:"react-marioplan-188d8.appspot.com",messagingSenderId:"965767692732",appId:"1:965767692732:web:0c44c991049a7c6c"});var q=$.a,H=Object(g.e)(V,{},Object(g.d)(Object(g.a)(Y.a.withExtraArgument({getFirebase:v.getFirebase,getFirestore:z.getFirestore})),Object(z.reduxFirestore)(q),Object(v.reactReduxFirebase)(q,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));H.firebaseAuthIsReady.then(function(){Object(l.render)(r.a.createElement(b.a,{store:H},r.a.createElement(J,null)),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[269,1,2]]]);
//# sourceMappingURL=main.e2866357.chunk.js.map